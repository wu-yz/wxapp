<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Layui</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" th:href="@{/layui/css/layui.css}"  media="all">
  <script th:src="@{/layui/layui.js}" charset="utf-8"></script>
  <script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
  <script>
        function upload(){
            var formData = new FormData(); //创建一个formData对象实例
            var excelFile = $("#uploadFile").get(0).files[0];
            formData.append("excelFile",excelFile)
            $.ajax({
                url: 'http://localhost:8080/questionpages/upload',
                data: formData,
                type: 'post',
                contentType:false, // 必须false才会自动加上正确的Content-Type
                processData: false, // 必须false才会避开jQuery对 formdata 的默认处理,XMLHttpRequest会对 formdata 进行正确的处理
                success: function (resp){
                    console.log(resp);
                    alert("成功！！！");
                }
            })
        }
    </script>
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
  <legend>批量上传</legend>
</fieldset>
<input  multiple="multiple" type="file" id="uploadFile">
    <br>
    <br>
<button onclick="upload()">上传</button>

  <!-- 
  	<div align="center" class="layui-btn-container">
  		<button type="button" class="layui-btn" id="test1"><i class="layui-icon"></i>上传文件</button>
  		<button type="button" class="layui-btn" id="test2">开始上传</button>
	</div>
  
  class="layui-btn"
   -->






<!--<script>
layui.use(['upload', 'element', 'layer'], function(){
  var $ = layui.jquery
  ,upload = layui.upload
  ,element = layui.element
  ,layer = layui.layer; 
  //选完文件后不自动上传
 upload.render({
    elem: '#test1'
    ,url: '' //此处配置你自己的上传接口即可
    ,auto: false
    ,multiple: true
    ,bindAction: '#test2'
    ,done: function(res){
      layer.msg('上传成功！');
      console.log(res)
  }
  });

</script>  -->

</body>
</html>