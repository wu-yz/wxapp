<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.tedu.wxadmin.mapper.BankMapper">
	<select id="findCountByMap" parameterType="map" resultType="java.lang.Integer">
		select count(*) from bank;
	</select>
	<select id="nameList" resultType="com.tedu.wxadmin.model.banklist">
	select * from bank;
	</select>
	<select id="findBankListByMap" parameterType="map" resultType="com.tedu.wxadmin.model.banklist">
		select * from bank order by bankNo asc limit #{start},#{pageSize}
	</select>
	<resultMap id="findBankListByMap" 
	type="com.tedu.wxadmin.model.banklist" >
		<id column="bankNo" property="bankno" />
		<result column="bankName" property="bankname" />
		<result column="num" property="num" />
	</resultMap>
	<select id="findByBankId" parameterType="java.lang.Integer" resultType="com.tedu.wxadmin.model.banklist">
	select * from bank where bankNo=#{id}
	</select>
	<insert id="insert" parameterType="com.tedu.wxadmin.model.banklist">
	insert into bank(bankName) values(#{bankname});
	</insert>
	<update id="update" parameterType="com.tedu.wxadmin.model.banklist" > 
	update bank set bankName=#{bankname} 
	where bankNo=#{bankno}
	</update>
	<!--删除  -->
	<delete id="deleteByBid" parameterType="java.lang.Integer">
	delete from bank where bankNo = #{id};
	 <!--对自增列进行重新排序
	 alter table bank drop bankNo;
     alter table bank ADD bankNo int NOT NULL first;
     alter table bank MODIFY COLUMN bankNo int NOT NULL AUTO_INCREMENT,ADD PRIMARY KEY(bankNo);
	 -->
	 alter table bank AUTO_INCREMENT = 1;

	</delete>
</mapper>